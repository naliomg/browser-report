$(function(){var t=function(){return this.id=("h5-"+Math.random()).replace(".",""),this.elem=$('<div class="h5" id="'+this.id+'"></div>').hide(),$("body").append(this.elem),this.pages=[],this.addPage=function(t,e){var a=$('<div class="h5-page section"></div>');return void 0!=t&&a.addClass("h5-page-"+t),void 0!=e&&a.text(e),this.elem.append(a),this.pages.push(a),void 0!=this.whenAddPage&&this.whenAddPage(),this},this.addComponent=function(t,p){var p=p||{};p=$.extend({type:"base"},p);var s=null;switch(p.type){case"base":s=new e(t,p);break;case"point":s=new a(t,p);break;case"bar":s=new i(t,p);break;case"polyline":s=new o(t,p);break;case"radar":s=new n(t,p);break;case"pie":s=new d(t,p);break;case"ring":s=new c(t,p)}var h=this.pages.slice(-1)[0];return h.append(s),this},this.loader=function(t){this.elem.fullpage({onLeave:function(t,e,a){$(this).find(".h5-component").trigger("onLeave")},afterLoad:function(t,e){$(this).find(".h5-component").trigger("onLoad")}}),this.elem.show(),t&&$.fn.fullpage.moveTo(t)},this.loader="function"==typeof H5Loading?H5Loading:this.loader,this},e=function(t,e){var e=e||{},a=("h5-c-"+Math.random()).replace(".",""),i="h5-c-type-"+e.type+" h5-c-name-"+t,o=$('<div class="h5-component '+i+'" id="'+a+'"></div>');return e.text&&o.text(e.text),e.width&&o.width(e.width/2),e.height&&o.height(e.height/2),e.css&&o.css(e.css),e.backgroundImage&&o.css("backgroundImage",'url("'+e.backgroundImage+'")'),e.center===!0&&o.css({marginLeft:e.width/4*-1+"px",left:"50%"}),o.on("onLeave",function(){return setTimeout(function(){o.addClass("h5-c-"+e.type+"-leave").removeClass("h5-c-"+e.type+"-load"),e.animateOut&&o.css(e.animateOut)},e.delay||0),!1}),o.on("onLoad",function(){return setTimeout(function(){o.addClass("h5-c-"+e.type+"-load").removeClass("h5-c-"+e.type+"-leave"),e.animateIn&&o.animate(e.animateIn)},e.delay||0),!1}),void 0!=e.fn&&o.on(e.fn.evName,e.fn.f),o},a=function(t,a){var i=new e(t,a),o=a.data[0][1];return $.each(a.data,function(t,e){var a=$('<div class="point"></div>'),n=$('<div class="name">'+e[0]+"</div>"),d=$('<div class="rate">'+100*e[1]+"%</div>");n.append(d),a.append(n);var c=e[1]/o*100+"%";a.width(c).height(c).css({background:e[2]}),a.data("left",e[3]).data("top",e[4]),a.css("zIndex",100-t).css("left",0).css("top",0),a.css({transition:"all 1s "+.5*t+"s","-webkit-transition":"all 1s "+.5*t+"s","-moz-transition":"all 1s "+.5*t+"s"}),i.append(a),i.on("onLoad",function(){i.find(".point").each(function(t,e){$(e).css("left",$(e).data("left")).css("top",$(e).data("top"))})}),i.on("onLeave",function(){i.find(".point").each(function(t,e){$(e).css("left",0).css("top",0)})}),i.find(".point").on("click",function(){return i.find(".point").removeClass("point_focus"),$(this).addClass("point_focus"),!1}).eq(0).addClass("point_focus")}),i},i=function(t,a){var i=new e(t,a);return $.each(a.data,function(t,e){var a=$('<div class="item-bar">'),o=$('<div class="name">'),n=$('<div class="rate">'),d=$('<div class="per">'),c=$('<div class="bg">');o.text(e[0]);var p=55*e[1]+"%";c.css("background",e[2]),n.css("width",p).append(c),d.text(100*e[1]+"%"),a.append(o).append(n).append(d),i.append(a)}),i},o=function(t,a){function i(t){p.clearRect(0,0,p.width,p.height),p.beginPath(),p.lineWidth=3,p.strokeStyle="#FF8878";var e=0,i=0;s=a.data.length+1;var o=p.width/s;for(h in a.data){var n=a.data[h];e=o*h+o,i=p.height*(1-n[1]*t),p.moveTo(e,i),p.arc(e,i,5,0,2*Math.PI)}p.moveTo(o,p.height*(1-a.data[0][1]*t));for(h in a.data){var n=a.data[h];e=o*h+o,i=p.height*(1-n[1]*t),p.lineTo(e,i)}p.stroke(),p.strokeStyle="transparent",p.lineTo(e,p.height),p.lineTo(o,p.height),p.fillStyle="rgba(255,188,188,0.4)",p.fill(),p.font="bold 24px Arial",p.textAlign="center",p.textBaseline="middle";for(h in a.data){var n=a.data[h],d=(100*n[1]>>0)+"%";e=o*h+o,i=p.height*(1-n[1]*t)-20,p.fillStyle=n[2]?n[2]:"#595959",p.fillText(d,e,i)}p.stroke()}var o=new e(t,a),n=a.width,d=a.height,c=document.createElement("canvas");if(c.getContext)var p=c.getContext("2d");c.width=p.width=n,c.height=p.height=d,o.append(c),p.beginPath(),p.lineWidth=1,p.strokeStyle="#AAA";for(var s=10,h=0;h<s+1;h++){var r=p.height/s*h;p.moveTo(0,r),p.lineTo(p.width,r)}s=a.data.length+1;for(var h=0;h<s+1;h++){var g=p.width/s*h;if(p.moveTo(g,0),p.lineTo(g,p.height),a.data[h]){var l=$('<div class="text">'+a.data[h][0]+"</div>");l.css({width:p.width/s/2,left:g/2+p.width/s/4}),o.append(l)}}p.stroke();var n=a.width,d=a.height,c=document.createElement("canvas");if(c.getContext)var p=c.getContext("2d");return c.width=p.width=n,c.height=p.height=d,o.append(c),a.delay=a.delay||0,o.on("onLoad",function(){for(var t=0,e=0;e<100;e++)setTimeout(function(){t+=.01,i(t)},10*e+500+a.delay)}),o.on("onLeave",function(){for(var t=1,e=0;e<100;e++)setTimeout(function(){t-=.01,i(t)},10*e+500+a.delay)}),o},n=function(t,a){function i(t){s.clearRect(0,0,n,d),s.beginPath();for(var e=0;e<c;e++){var i=2*Math.PI/360*(360/c)*e,o=h+Math.cos(i)*h*a.data[e][1]*t,p=h+Math.sin(i)*h*a.data[e][1]*t;s.lineTo(o,p)}s.closePath(),s.strokeStyle="#f00",s.fillStyle="rgba(255,0,0,0.2)",s.stroke(),s.fill(),s.fillStyle="#f00";for(var e=0;e<c;e++){var i=2*Math.PI/360*(360/c)*e,o=h+Math.cos(i)*h*a.data[e][1]*t,p=h+Math.sin(i)*h*a.data[e][1]*t;s.beginPath(),s.arc(o,p,5,0,2*Math.PI),s.fill()}}var o=new e(t,a),n=a.width,d=a.height,c=a.data.length,p=document.createElement("canvas");if(p.getContext)var s=p.getContext("2d");p.width=s.width=n,p.height=s.height=d,o.append(p),s.lineWidth=1;for(var h=n/2,r=10;r>=0;r--){s.beginPath(),moveTo(2*h,0);for(var g=0;g<c;g++){var l=2*Math.PI/360*(360/c)*g,m=h+Math.cos(l)*h*r/10,f=h+Math.sin(l)*h*r/10;s.lineTo(m,f)}s.closePath(),s.fillStyle=r%2?"#f1f9ff":"#99c0ff",s.fill()}for(var g=0;g<c;g++){var l=2*Math.PI/360*(360/c)*g,m=h+Math.cos(l)*h,f=h+Math.sin(l)*h;s.beginPath(),s.moveTo(h,h),s.lineTo(m,f),s.strokeStyle="#e0e0e0",s.stroke();var y=$('<div class="text">'+a.data[g][0]+"</div>");m>h?y.css("left",m/2+5):y.css("right",(n-m)/2+5),f>h?y.css("top",f/2+5):y.css("bottom",(d-f)/2+5),a.data[g][2]&&y.css("color",a.data[g][2]),o.append(y)}var p=document.createElement("canvas");if(p.getContext)var s=p.getContext("2d");return p.width=s.width=n,p.height=s.height=d,o.append(p),a.delay=a.delay||0,o.on("onLoad",function(){for(var t=0,e=0;e<100;e++)setTimeout(function(){t+=.01,i(t)},10*e+500+a.delay)}),o.on("onLeave",function(){for(var t=1,e=0;e<100;e++)setTimeout(function(){t-=.01,i(t)},10*e+500+a.delay)}),o},d=function(t,a){function i(t){s.clearRect(0,0,n,d),s.beginPath(),s.moveTo(h,h),t<=0?(s.arc(h,h,h,0,2*Math.PI),o.find(".text").css("opacity",0)):s.arc(h,h,h,1.5*Math.PI,1.5*Math.PI+2*Math.PI*t,!0),s.fill(),s.stroke(),t>=1&&o.find(".text").css("opacity",1)}var o=new e(t,a);a.delay=a.delay||0;var n=a.width,d=a.height,c=a.data.length,p=document.createElement("canvas");if(p.getContext)var s=p.getContext("2d");p.width=s.width=n,p.height=s.height=d,o.append(p),s.lineWidth=1;var h=n/2;s.beginPath(),s.fillStyle="#eee",s.strokeStyle="#eee",s.arc(h,h,h,0,2*Math.PI),s.stroke(),s.fill();var p=document.createElement("canvas");if(p.getContext)var s=p.getContext("2d");p.width=s.width=n,p.height=s.height=d,o.append(p);for(var r=["red","green","blue","darkred","orange"],g=1.5*Math.PI,l=0,m=2*Math.PI,f=0;f<c;f++){var y=a.data[f],u=y[2]||r.pop();l=g+m*y[1],s.beginPath(),s.fillStyle=u,s.strokeStyle=u,s.moveTo(h,h),s.arc(h,h,h-1,g,l),s.stroke(),s.fill();var v=$('<div class="text">');v.text(y[0]);var x=$('<div class="per">');x.text(Math.round(100*y[1]*100)/100+"%"),v.append(x);var b=h+Math.cos(g)*h,w=h+Math.sin(g)*h;b>=n/2-.1?v.css("left",b/2+5):v.css("right",(n-b)/2+5),w>=d/2?v.css("top",w/2+5):v.css("bottom",(d-w)/2+5),void 0!=y[2]&&v.css("color",y[2]),v.css("opacity",0),o.append(v),g=l}var p=document.createElement("canvas");if(p.getContext)var s=p.getContext("2d");p.width=s.width=n,p.height=s.height=d,o.append(p),s.lineWidth=1;var h=n/2;return s.beginPath(),s.fillStyle="#eee",s.strokeStyle="#eee",i(0),o.on("onLoad",function(){for(var t=0,e=0;e<100;e++)setTimeout(function(){t+=.01,i(t)},10*e+300+a.delay)}),o.on("onLeave",function(){for(var t=1,e=0;e<100;e++)setTimeout(function(){t-=.01,i(t)},10*e+300+a.delay)}),o},c=function(t,e){e.data.length>1&&(e.data=[e.data[0]]),e.type="pie";var a=new d(t,e);a.addClass("h5-c-type-ring");var i=$('<div class="mask">');a.append(i);var o=a.find(".text");o.html(Math.round(100*e.data[0][1]*100)/100+"%"),o.attr("style","");var n=$('<div class="text">');return n.text(e.data[0][0]),n.css({top:"105%"}),e.data[0][2]&&(o.css("color",e.data[0][2]),n.css("color",e.data[0][2])),i.append(o),a.append(n),a},p=new t;p.whenAddPage=function(){this.addComponent("footer",{text:"↑ 向上滑动观看　",height:40,css:{textAlign:"right",fontSize:"12px",lineHeight:"20px",color:"#fff",background:"rgba(0,0,0,0.3)",left:0,bottom:-20,width:"100%",opacity:0,zIndex:999},animateIn:{opacity:1,bottom:0},animateOut:{opacity:0,bottom:-20},delay:1e3})},p.addPage("face").addComponent("logo",{type:"base",center:!0,width:395,height:130,backgroundImage:"images/face_logo.png",css:{opacity:0,top:0},animateIn:{top:"20%",opacity:1},animateOut:{top:0,opacity:0}}).addComponent("slogan",{type:"base",center:!0,width:364,height:100,backgroundImage:"images/face_slogan.png",css:{opacity:0,top:"37%"},animateIn:{opacity:1},animateOut:{opacity:0},delay:500}).addComponent("face-image-left",{type:"base",width:370,height:493,backgroundImage:"images/face_img_left.png",css:{opacity:0,bottom:-50,left:-50},animateIn:{opacity:1,bottom:0,left:0},animateOut:{opacity:0,bottom:-50,left:-50},delay:900}).addComponent("face-image-right",{type:"base",width:276,height:449,backgroundImage:"images/face_img_right.png",css:{opacity:0,bottom:-50,right:-50},animateIn:{opacity:1,bottom:0,right:0},animateOut:{opacity:0,bottom:-50,right:-50},delay:900}).addPage("intro").addComponent("title",{text:"概述",css:{top:"12%"}}).addComponent("text",{type:"base",text:"2016浏览器杂乱点评",center:!0,width:500,height:30,css:{top:"7%",opacity:0,textAlign:"center",color:"#ff4343",fontSize:"26px"},animateIn:{top:"27%",opacity:1},animateOut:{top:"7%",opacity:0}}).addComponent("description",{text:"2016又要过去了，接下来跟大家分享2016年10月份全球主流浏览器市场份额排行，今天咱们就看一下在忙碌的2016浏览器市场又发生了哪些变化。(本数据来源于StatCounter)",center:!0,width:521,height:335,backgroundImage:"images/description_bg.gif",css:{top:"15%",opacity:0,boxSizing:"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box",padding:"15px 15px 15px 15px"},animateIn:{opacity:1,top:"35%"},animateOut:{opacity:0,top:"15%"},delay:1e3}).addComponent("people",{center:!0,width:515,height:305,backgroundImage:"images/p1_people.png",css:{opacity:0,bottom:0},animateIn:{opacity:1,bottom:"6.6%"},animateOut:{opacity:0,bottom:0},delay:500}).addPage("wwt").addComponent("title",{text:"全球浏览器占比",css:{top:"12%"}}).addComponent("pie",{type:"pie",width:400,height:400,center:!0,data:[["Chrome",.5924,"orange"],["FireFox",.1329,"darkred"],["Safari",.1023,"blue"],["IE",.089,"green"],["other",.0834,"red"]],css:{top:"34.86%",opacity:1}}).addComponent("header",{text:"2016年10月，全球统计Chrome浏览器以巨大优势胜出",css:{height:"30px",width:"90%",padding:"5%",lineHeight:"30px",fontSize:"16px",fontWeight:"bold",textAlign:"center",top:"79%",opacity:0},animateIn:{opacity:1},animateOut:{opacity:0},delay:1300}).addPage("cnt").addComponent("title",{text:"中国浏览器占比",css:{top:"12%"}}).addComponent("bar",{type:"bar",width:530,height:600,center:!0,data:[["Chrome",.5261,"#ca402d"],["IE",.197,"#dc8323"],["Sogou",.0661,"#dca523"],["FireFox",.0462,"#87dc23"],["Safari",.0492,"#23dc2b"],["QQ",.045,"#235bdc"],["other",.0701]],css:{top:"32.5%",opacity:0},animateIn:{opacity:1},animateOut:{opacity:0}}).addPage("wwmoblie").addComponent("title",{text:"移动端全球占比",css:{top:"12%"}}).addComponent("Chrome",{type:"ring",width:300,height:300,center:!0,data:[["",.4316,"#ff7676"]],css:{top:"24.5%",fontSize:"22px",opacity:0},animateIn:{opacity:1},animateOut:{opacity:0},delay:0}).addComponent("description",{text:"移动端Chrome以43.16%份额居首",css:{top:"53%",opacity:0,color:"#ff7676",fontSize:"20px",textAlign:"center",width:"100%"},animateIn:{opacity:1},animateOut:{opacity:0},delay:1e3}).addComponent("Safari",{type:"ring",width:120,height:120,data:[["Safari",.1741,"#ff7676"]],css:{top:"59.6%",left:"calc(20% - 30px)",opacity:0},animateIn:{opacity:1},animateOut:{opacity:0},delay:1300}).addComponent("UC",{type:"ring",width:120,height:120,center:!0,data:[["UC",.1679,"#ff7676"]],css:{top:"59.6%",opacity:0},animateIn:{opacity:1},animateOut:{opacity:0},delay:1300}).addComponent("Opera",{type:"ring",width:120,height:120,data:[["Opera",.0833,"#ff7676"]],css:{top:"59.6%",left:"calc(80% - 30px)",opacity:0},animateIn:{opacity:1},animateOut:{opacity:0},delay:1300}).addComponent("Samsung",{type:"ring",width:120,height:120,data:[["Samsung",.066,"#ff7676"]],css:{top:"74.47%",left:"calc(33.33% - 30px)",opacity:0},animateIn:{opacity:1},animateOut:{opacity:0},delay:1300}).addComponent("other",{type:"ring",width:120,height:120,data:[["other",.0755,"#ff7676"]],css:{top:"74.47%",left:"calc(66.66% - 30px)",opacity:0},animateIn:{opacity:1},animateOut:{opacity:0},delay:1300}).addPage("wwchrome").addComponent("title",{text:"12-16年Chrome占比",css:{top:"12%"}}).addComponent("header",{text:"Chrome市场占比持续上升",css:{height:"30px",width:"100%",lineHeight:"30px",fontSize:"16px",fontWeight:"bold",textAlign:"center",top:"12.4%",opacity:0},animateIn:{opacity:1,top:"32.4%"},animateOut:{opacity:0,top:"12.4%"},delay:1500}).addComponent("polyline",{type:"polyline",width:530,height:300,center:!0,data:[["2012",.0982],["2013",.2742],["2014",.444],["2015",.5369],["2016",.5382]],css:{top:"25%",opacity:0},animateIn:{opacity:1,top:"45%"},animateOut:{opacity:0,top:"25%"}}).addPage("wwie").addComponent("title",{text:"12-16年IE占比",css:{top:"12%"}}).addComponent("header",{text:"IE市场占比持续下降",css:{height:"30px",width:"100%",lineHeight:"30px",fontSize:"16px",fontWeight:"bold",textAlign:"center",top:"12.4%",opacity:0},animateIn:{opacity:1,top:"32.4%"},animateOut:{opacity:0,top:"12.4%"},delay:1500}).addComponent("polyline",{type:"polyline",width:530,height:300,center:!0,data:[["2012",.6842],["2013",.5153],["2014",.3102],["2015",.2068],["2016",.1769]],css:{top:"25%",opacity:0},animateIn:{opacity:1,top:"45%"},animateOut:{opacity:0,top:"25%"}}).addPage("chrome").addComponent("title",{text:"Chrome优点列举",css:{top:"12%"}}).addComponent("radar",{type:"radar",width:400,height:400,center:!0,data:[["与Google服务整合",.3],["后台同步",.4],["更新快",.65,"orange"],["简洁",.7,"green"],["快",.95,"red"]],css:{top:"22.75%",opacity:0},animateIn:{opacity:1,top:"32.75%"},animateOut:{opacity:0,top:"22.75%"}}).addComponent("header",{text:"Chrome无疑以速度优势获得大多数用户的芳心",css:{height:"30px",width:"90%",padding:"0 5%",lineHeight:"30px",fontSize:"16px",fontWeight:"bold",textAlign:"center",top:"80.3%",opacity:0},animateIn:{opacity:1},animateOut:{opacity:0},delay:1500}).addPage("ff").addComponent("title",{text:"FireFox优点列举",css:{top:"12%"}}).addComponent("point",{type:"point",width:300,height:300,center:!0,data:[["扩展性",.45,"#ff7676"],["稳定性",.3,"#ffa3a4",-55,"-60%"],["内存管理",.35,"#99c1ff",60,"-100%"]],css:{bottom:"15%"},animateIn:{opacity:1},animateOut:{opacity:0}}).addPage("tail").addComponent("logo",{type:"base",center:!0,width:398,height:90,backgroundImage:"images/tail_logo.png",css:{opacity:0,top:"15.5%"},animateIn:{opacity:1,top:"35.5%"},animateOut:{opacity:0,top:0}}).addComponent("slogan",{type:"base",center:!0,width:183,height:50,backgroundImage:"images/tail_slogan.png",css:{opacity:0,top:"30.3%"},animateIn:{opacity:1,top:"50.3%"},animateOut:{opacity:0,top:"30.3%"},delay:500}).addComponent("share",{type:"base",width:128,height:120,backgroundImage:"images/tail_share.png",css:{opacity:0,top:"2%",right:"0%"},animateIn:{opacity:1,right:"5%"},animateOut:{opacity:0,right:"0%"},delay:500}).addComponent("back",{type:"base",center:!0,width:52,height:50,backgroundImage:"images/tail_back.png",css:{opacity:0,top:"-2%"},animateIn:{opacity:1,top:"5%"},animateOut:{opacity:0,top:"-2%"},delay:500,fn:{evName:"click",f:function(){$.fn.fullpage.moveTo(1)}}}).loader(["images/tail_slogan.png","images/tail_share.png","images/tail_back.png","images/page_bg.png","images/page-title.png","images/p1_people.png","images/face_slogan.png","images/face_logo.png","images/face_img_right.png","images/face_img_left.png","images/face_bg.png","images/description_bg.gif"])});